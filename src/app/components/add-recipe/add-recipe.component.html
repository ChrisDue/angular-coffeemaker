<form class="container jumbotron-add-recipe" (ngSubmit)="onAddSubmit()" id="form-new-recipe">

    <h2 class="whiteTextOverride">Your newest creation</h2>

    <div class="form-floating mb-3">
        <input required type="text" minlength="2" maxlength="20" class="form-control" id="name" placeholder=" "
            [(ngModel)]="nameValue" ngModel name="name" #name="ngModel" (change)="log(name)">
        <label for="name">Recipe Name</label>
        <div class="alert alert-danger" *ngIf="name.touched && !name.valid">
            <div *ngIf="name.errors?.required" id="error-name-empty">
                Recipes require a name.</div>
            <div *ngIf="name.errors?.minlength" id="error-name-length">
                Recipe names need {{ name.errors?.minlength.requiredLength }} to 20 characters.</div>
        </div>
    </div>
    <div class="form-floating indented">
        <input type="number" class="form-control" id="coffeeAmount" min="0" placeholder=" "
            [(ngModel)]="coffeeAmountValue" ngModel name="coffeeAmount" #coffeeAmount="ngModel"
            (change)="log(coffeeAmount)"
            oninput="this.value = !!this.value && Math.abs(this.value) >= 0 ? (Math.abs(this.value) <= 1500 ? Math.abs(this.value) : 1500) : 0">
        <label for="coffeeAmount">Amount of Coffee in g</label>
    </div>
    <div class="form-floating indented">
        <input type="number" class="form-control" id="waterAmount" min="0" placeholder=" "
            [(ngModel)]="waterAmountValue" ngModel name="waterAmount" #waterAmount="ngModel" (change)="log(waterAmount)"
            oninput="this.value = !!this.value && Math.abs(this.value) >= 0 ? (Math.abs(this.value) <= 1500 ? Math.abs(this.value) : 1500) : 0">
        <label for="waterAmount">Amount of Water in ml</label>
    </div>
    <div class="form-floating indented">
        <input type="number" class="form-control" id="milkAmount" min="0" placeholder=" " [(ngModel)]="milkAmountValue"
            ngModel name="milkAmount" #milkAmount="ngModel" (change)="log(milkAmount)"
            oninput="this.value = !!this.value && Math.abs(this.value) >= 0 ? (Math.abs(this.value) <= 1500 ? Math.abs(this.value) : 1500) : 0">
        <label for="milkAmount">Amount of Milk in ml</label>
    </div>
    <div class="form-floating indented">
        <input type="number" class="form-control" id="cocoaAmount" placeholder=" " [(ngModel)]="cocoaAmountValue"
            ngModel name="cocoaAmount" #cocoaAmount="ngModel" (change)="log(cocoaAmount)" min="0"
            oninput="this.value = !!this.value && Math.abs(this.value) >= 0 ? (Math.abs(this.value) <= 1500 ? Math.abs(this.value) : 1500) : 0">
        <label for="cocoaAmount">Amount of Cocoa in g</label>
    </div>
    <br>
    <div class="alert alert-warning" id="requirements-warning" *ngIf="!name.valid 
        || !coffeeAmount.viewModel 
        && !waterAmount.viewModel 
        && !milkAmount.viewModel 
        && !cocoaAmount.viewModel">
        Recipes need a Name and at least one Ingredient.</div>
    <input type="submit" class="btn btn-success" id="submit-new-recipe" value="Create new Recipe" [disabled]="!name.valid 
        || !coffeeAmount.viewModel 
        && !waterAmount.viewModel 
        && !milkAmount.viewModel 
        && !cocoaAmount.viewModel">
</form>
